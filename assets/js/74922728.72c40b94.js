"use strict";(self.webpackChunkprem_docs=self.webpackChunkprem_docs||[]).push([[7249],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>h});var a=n(67294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,p=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),c=s(n),u=l,h=c["".concat(p,".").concat(u)]||c[u]||d[u]||r;return n?a.createElement(h,o(o({ref:t},m),{},{components:n})):a.createElement(h,o({ref:t},m))}));function h(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,o=new Array(r);o[0]=u;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[c]="string"==typeof e?e:l,o[1]=i;for(var s=2;s<r;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},85720:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>s});var a=n(87462),l=(n(67294),n(3905));const r={slug:"install-prem-on-aws-llmops-in-production",title:"Install Prem on AWS",authors:["tiero"],tags:["llm","ai","self-hosted","prem","on-premise","open-source","perplexity","aws","llama2"],description:"Self-host open-source AI models on AWS with Prem and build your first AI-powered application",image:"./image.jpg"},o=void 0,i={permalink:"/blog/install-prem-on-aws-llmops-in-production",editUrl:"https://github.com/premAI-io/dev-portal/blob/main/blog/2023-10-03-install-prem-on-aws-llmops-in-production/index.md",source:"@site/blog/2023-10-03-install-prem-on-aws-llmops-in-production/index.md",title:"Install Prem on AWS",description:"Self-host open-source AI models on AWS with Prem and build your first AI-powered application",date:"2023-10-03T00:00:00.000Z",formattedDate:"October 3, 2023",tags:[{label:"llm",permalink:"/blog/tags/llm"},{label:"ai",permalink:"/blog/tags/ai"},{label:"self-hosted",permalink:"/blog/tags/self-hosted"},{label:"prem",permalink:"/blog/tags/prem"},{label:"on-premise",permalink:"/blog/tags/on-premise"},{label:"open-source",permalink:"/blog/tags/open-source"},{label:"perplexity",permalink:"/blog/tags/perplexity"},{label:"aws",permalink:"/blog/tags/aws"},{label:"llama2",permalink:"/blog/tags/llama-2"}],readingTime:2.09,hasTruncateMarker:!0,authors:[{name:"Marco Argentieri",title:"Bitcoin wizard",url:"https://github.com/tiero",imageURL:"https://github.com/tiero.png",key:"tiero"}],frontMatter:{slug:"install-prem-on-aws-llmops-in-production",title:"Install Prem on AWS",authors:["tiero"],tags:["llm","ai","self-hosted","prem","on-premise","open-source","perplexity","aws","llama2"],description:"Self-host open-source AI models on AWS with Prem and build your first AI-powered application",image:"./image.jpg"},prevItem:{title:"Introducing Prem App v0.2.x: Enhanced Speed and Simplified Usage Without Docker",permalink:"/blog/prem-app-v0-2-enhanced-speed-without-docker"},nextItem:{title:"Evaluating Open-Source Large Language Models",permalink:"/blog/evaluating-open-source-llms"}},p={image:n(60796).Z,authorsImageUrls:[void 0]},s=[{value:"What is Prem?",id:"what-is-prem",level:3},{value:"Install Prem on AWS",id:"install-prem-on-aws",level:2},{value:"What to expect",id:"what-to-expect",level:3},{value:"Step 1: Install Prem on AWS",id:"step-1-install-prem-on-aws",level:3},{value:"1. Launch an instance",id:"1-launch-an-instance",level:4},{value:"2. Connect to the instance via SSH",id:"2-connect-to-the-instance-via-ssh",level:4},{value:"3. Install Prem",id:"3-install-prem",level:4},{value:"4. Check the app",id:"4-check-the-app",level:4},{value:"Step 3: Download the model",id:"step-3-download-the-model",level:3},{value:"Step 4: Run the model and the app",id:"step-4-run-the-model-and-the-app",level:3},{value:"0. Clone the repo",id:"0-clone-the-repo",level:3},{value:"1. Set the right environment variable",id:"1-set-the-right-environment-variable",level:4},{value:"2. Install the dependencies",id:"2-install-the-dependencies",level:4},{value:"3. Run the frontend",id:"3-run-the-frontend",level:4},{value:"Enjoy!",id:"enjoy",level:3}],m={toc:s},c="wrapper";function d(e){let{components:t,...r}=e;return(0,l.kt)(c,(0,a.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("head",null,(0,l.kt)("meta",{name:"twitter:image",content:"./image.jpg"})),(0,l.kt)("p",null,"Self-host open-source AI models on AWS with Prem and build your first AI-powered application"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Computer with AWS Sticker",src:n(60796).Z,width:"5774",height:"4330"})),(0,l.kt)("h3",{id:"what-is-prem"},"What is Prem?"),(0,l.kt)("p",null,"Prem is a self-hosted AI platform that allows you to test and deploy open-source AI models on your own infrastructure. Prem is open-source and free to use. You can learn more about Prem ",(0,l.kt)("a",{parentName:"p",href:"https://premai.io"},"here"),"."),(0,l.kt)("h2",{id:"install-prem-on-aws"},"Install Prem on AWS"),(0,l.kt)("h3",{id:"what-to-expect"},"What to expect"),(0,l.kt)("p",null,"The end goal is to create a Perplexity AI clone entirely open-source, using Llama 2 from Meta as LLM of choice and the ",(0,l.kt)("strong",{parentName:"p"},"fantastic")," open-source frontend ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/mckaywrigley/clarity-ai"},"Clarity AI")," built by ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/mckaywrigley"},"Mckay Wrigley"),". We already wrote about ",(0,l.kt)("a",{parentName:"p",href:"/blog/perplexity-ai-self-hosted"},"how to make a self hosted Perplexity AI clone here"),", but now let's do it with AWS!"),(0,l.kt)("h3",{id:"step-1-install-prem-on-aws"},"Step 1: Install Prem on AWS"),(0,l.kt)("p",null,"Create a AWS account if you don't have one already, then login to the ",(0,l.kt)("a",{parentName:"p",href:"https://console.aws.amazon.com/"},"AWS Console"),"."),(0,l.kt)("h4",{id:"1-launch-an-instance"},"1. Launch an instance"),(0,l.kt)("p",null,"For convenience, we prepared an ",(0,l.kt)("inlineCode",{parentName:"p"},"AMI")," with already NVIDIA Toolkit installed, along with Docker and Docker Compose."),(0,l.kt)("p",null,"\ud83d\udd17 ",(0,l.kt)("a",{parentName:"p",href:"https://console.aws.amazon.com/ec2/v2/home#LaunchInstanceWizard:ami=ami-06d4672384794fa01"},"ami-06d4672384794fa01")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Name"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"prem-demo")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Image"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"ami-06d4672384794fa01")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Instance type"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"g5.48xlarge")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Security Groups"),": Add Inbound Rule for the Port range ",(0,l.kt)("inlineCode",{parentName:"li"},"8000")," with Source ",(0,l.kt)("inlineCode",{parentName:"li"},"0.0.0.0/0")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Storage"),": min ",(0,l.kt)("inlineCode",{parentName:"li"},"128 GB"))),(0,l.kt)("p",null,"Click on ",(0,l.kt)("strong",{parentName:"p"},"Launch Instance")),(0,l.kt)("h4",{id:"2-connect-to-the-instance-via-ssh"},"2. Connect to the instance via SSH"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"ssh ubuntu@<your-instance-ip>\n")),(0,l.kt)("h4",{id:"3-install-prem"},"3. Install Prem"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"wget -q https://get.prem.ninja/install.sh -O install.sh; sudo bash ./install.sh\n")),(0,l.kt)("h4",{id:"4-check-the-app"},"4. Check the app"),(0,l.kt)("p",null,"Visit the following URL in your browser: ",(0,l.kt)("inlineCode",{parentName:"p"},"http://<your-instance-ip>:8000")," to confirm the Prem App is up and running."),(0,l.kt)("h3",{id:"step-3-download-the-model"},"Step 3: Download the model"),(0,l.kt)("p",null,"From the Prem App, select the ",(0,l.kt)("inlineCode",{parentName:"p"},"Llama V2 13B Chat")," model and click on the ",(0,l.kt)("strong",{parentName:"p"},"dowload")," icon.\nThis can take a while, so grab an espresso \u2615\ufe0f"),(0,l.kt)("h3",{id:"step-4-run-the-model-and-the-app"},"Step 4: Run the model and the app"),(0,l.kt)("p",null,"Once the model is downloaded, click ",(0,l.kt)("strong",{parentName:"p"},"Open")," button. This will start the container and open the chat UI. At this point we don't need the embedded user interface, so we can close it."),(0,l.kt)("p",null,"Now back to the frontend, let's run it locally and connect to our Prem instance.\nYou can use directly my own ",(0,l.kt)("inlineCode",{parentName:"p"},"clarity-ai")," fork ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/tiero/clarity-ai"},"github.com/tiero/clarity-ai")," that has the changes already applied."),(0,l.kt)("h3",{id:"0-clone-the-repo"},"0. Clone the repo"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/tiero/clarity-ai && cd clarity-ai\n")),(0,l.kt)("h4",{id:"1-set-the-right-environment-variable"},"1. Set the right environment variable"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"export NEXT_PUBLIC_API_URL=http://<your-instance-ip>:8000\n")),(0,l.kt)("h4",{id:"2-install-the-dependencies"},"2. Install the dependencies"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm install\n")),(0,l.kt)("h4",{id:"3-run-the-frontend"},"3. Run the frontend"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm run dev\n")),(0,l.kt)("h3",{id:"enjoy"},"Enjoy!"),(0,l.kt)("p",null,"Visit the following URL in your browser: ",(0,l.kt)("inlineCode",{parentName:"p"},"http://localhost:3000")," to start using your own Perplexity AI clone!"))}d.isMDXComponent=!0},60796:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image-b448fe8a7d2841f531942bfa8d17ac36.jpg"}}]);